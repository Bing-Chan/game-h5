import{Q as h,b as C,C as A}from"./index-C329vRR8.js";import{R as x,a as V}from"./index-BVDxY0_z.js";import{C as y}from"./index-BEEXZNzr.js";import{_ as B}from"./NoticeBar.vue_vue_type_script_setup_true_lang-I49SmC32.js";import{q as E,r as N,I as P,m as e,R as i,i as $,u as m,J as d,y as p,N as f,P as v,B as b}from"./vue-CItE1nfi.js";function k(r){if(h(r)&&r.length>0){const{roles:a}=C();return a.some(t=>r.includes(t))}else return console.error("参数必须是一个数组且长度大于 0，参考：checkPermission(['admin', 'editor'])"),!1}const w={"un-mb-20px":""},I=E({__name:"permission",setup(r){const a=C(),t=N(a.roles[0]);function R(u){a.changeRoles(u)}return(u,o)=>{const c=V,n=A,l=y,g=x,_=b("permission");return d(),P("div",w,[e(B,{text:"基于权限指令、权限函数实现的按钮级控制"}),e(g,{modelValue:m(t),"onUpdate:modelValue":o[2]||(o[2]=s=>$(t)?t.value=s:null),onChange:R},{default:i(()=>[e(l,{title:"切换用户",inset:""},{default:i(()=>[e(n,{title:"Admin 用户",onClick:o[0]||(o[0]=s=>t.value="admin")},{"right-icon":i(()=>[e(c,{name:"admin"})]),_:1}),e(n,{title:"Editor 用户",onClick:o[1]||(o[1]=s=>t.value="editor")},{"right-icon":i(()=>[e(c,{name:"editor"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l,{title:"权限指令",inset:""},{default:i(()=>[p(e(n,{title:"Admin 可见",value:"Role admin"},null,512),[[_,["admin"]]]),p(e(n,{title:"Admin 或 Editor 可见",value:"Role admin or editor"},null,512),[[_,["admin","editor"]]])]),_:1}),e(l,{title:"权限函数",inset:""},{default:i(()=>[m(k)(["admin"])?(d(),f(n,{key:0,title:"Admin 可见",value:"Role admin"})):v("",!0),m(k)(["admin","editor"])?(d(),f(n,{key:1,title:"Admin 或 Editor 可见",value:"Role admin or editor"})):v("",!0)]),_:1})])}}});export{I as default};

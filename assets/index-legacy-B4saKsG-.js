System.register(["./index-legacy-BrR2-l5F.js","./index-legacy-DlmwK_va.js","./index-legacy-w9tA7yy3.js","./index-legacy-DGYtu2Ig.js","./vue-legacy-BT2p8nS1.js"],function(e,n){"use strict";var t,r,l,a,o,s,i,u,d,m,c,p,g,f,h,v,x,y,b,w,V,S,B,E,P;return{setters:[e=>{t=e.t,r=e.n,l=e.c,a=e.u,o=e.a,s=e.F,i=e.p,u=e.w,d=e.r,m=e.b,c=e.B},null,e=>{p=e.C},e=>{g=e.F},e=>{f=e.q,h=e.m,v=e.I,x=e.Q,y=e.K,b=e.J,w=e.r,V=e.d,S=e.R,B=e.u,E=e.V,P=e.M}],execute:function(){const[n,j]=l("form"),T={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:r,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:t,showErrorMessage:t,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var _=f({name:n,props:T,emits:["submit","failed"],setup(e,{emit:n,slots:t}){const{children:r,linkChildren:l}=a(s),u=e=>e?r.filter(n=>e.includes(n.name)):r,d=n=>{return"string"==typeof n?(e=>{const n=r.find(n=>n.name===e);return n?new Promise((e,t)=>{n.validate().then(n=>{n?t(n):e()})}):Promise.reject()})(n):e.validateFirst?(t=n,new Promise((e,n)=>{const r=[];u(t).reduce((e,n)=>e.then(()=>{if(!r.length)return n.validate().then(e=>{e&&r.push(e)})}),Promise.resolve()).then(()=>{r.length?n(r):e()})})):(e=>new Promise((n,t)=>{const r=u(e);Promise.all(r.map(e=>e.validate())).then(e=>{(e=e.filter(Boolean)).length?t(e):n()})}))(n);var t},m=(e,n)=>{r.some(t=>t.name===e&&(t.$el.scrollIntoView(n),!0))},c=()=>r.reduce((e,n)=>(void 0!==n.name&&(e[n.name]=n.formValue.value),e),{}),p=()=>{const t=c();d().then(()=>n("submit",t)).catch(r=>{n("failed",{values:t,errors:r});const{scrollToError:l,scrollToErrorPosition:a}=e;l&&r[0].name&&m(r[0].name,a?{block:a}:void 0)})},g=e=>{i(e),p()};return l({props:e}),o({submit:p,validate:d,getValues:c,scrollToField:m,resetValidation:e=>{"string"==typeof e&&(e=[e]),u(e).forEach(e=>{e.resetValidation()})},getValidationStatus:()=>r.reduce((e,n)=>(e[n.name]=n.getValidationStatus(),e),{})}),()=>{var e;return h("form",{class:j(),onSubmit:g},[null==(e=t.default)?void 0:e.call(t)])}}});const k=u(_),F={"un-color-hex-969799":"","un-text-14px":"","un-fw400":""},q=f({__name:"Description",props:{text:{default:"一个精心制作的移动端 H5 模板"}},setup(e){const n=e;return(e,t)=>(b(),v("div",null,[t[0]||(t[0]=x("h1",{"un-flex-y-center":""},[x("img",{src:"/game-h5/favicon.png","un-w-38px":"","un-h-38px":""}),x("span",{"un-ml-16px":"","un-text-32px":"","un-fw400":""},"MobVue")],-1)),x("h2",F,y(n.text),1)]))}}),A={"un-h-full":"","un-flex-center":"","un-flex-col":"","un-select-none":""},M={"un-mx-16px":"","un-my-32px":""};e("default",f({__name:"index",setup(e){const n=P(),t=m(),r=w(!1),l=V({username:"admin",password:"12345678"});function a(){var e;r.value=!0,(e=l,d({url:"auth/login",method:"post",data:e})).then(({data:e})=>{t.setToken(e.token),n.push("/")}).catch(()=>{l.password=""}).finally(()=>{r.value=!1})}return(e,n)=>{const t=g,o=p,s=c,i=k;return b(),v("div",A,[h(q,{"un-mb-20px":""}),h(i,{onSubmit:a},{default:S(()=>[h(o,{inset:""},{default:S(()=>[h(t,{modelValue:B(l).username,"onUpdate:modelValue":n[0]||(n[0]=e=>B(l).username=e),name:"username",label:"用户名",size:"large",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),h(t,{modelValue:B(l).password,"onUpdate:modelValue":n[1]||(n[1]=e=>B(l).password=e),type:"password",name:"password",label:"密码",size:"large",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),x("div",M,[h(s,{loading:B(r),type:"primary","native-type":"submit",size:"large",round:"",block:""},{default:S(()=>[...n[2]||(n[2]=[E(" 登 录 ",-1)])]),_:1},8,["loading"])])]),_:1})])}}}))}}});
